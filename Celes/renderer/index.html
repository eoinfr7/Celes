<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celes - Celestial Music Streaming</title>
    <link rel="stylesheet" href="styles.css">
    <script src="../assets/icons/icon-loader.js"></script>
</head>
<body>
    <!-- Custom Title Bar (macOS/Windows) -->
    <div class="title-bar">
        <div class="title-bar-drag-region">
            <div class="title-bar-title">
                <span class="title-text">Celes</span>
            </div>
        </div>
        <div class="title-bar-controls">
            <button class="title-bar-btn" id="minimize-btn" title="Minimize">
                <i data-lucide="minus"></i>
            </button>
            <button class="title-bar-btn" id="maximize-btn" title="Maximize">
                <i data-lucide="square"></i>
            </button>
            <button class="title-bar-btn close-btn" id="close-btn" title="Close">
                <i data-lucide="x"></i>
            </button>
        </div>
    </div>

    <!-- Main Spotify-like Layout -->
    <div class="spotify-container">
        <!-- Left Sidebar Navigation -->
        <div class="sidebar">
            <!-- Main Navigation -->
            <div class="nav-main">
                <div class="nav-section">
                    <button class="btn btn-ghost nav-item active" data-view="home">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M13.5 1.515a3 3 0 0 0-3 0L3 5.845a2 2 0 0 0-1 1.732V21a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6h4v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V7.577a2 2 0 0 0-1-1.732l-7.5-4.33z"/>
                        </svg>
                        <span class="text-sm font-medium">Home</span>
                    </button>
                    
                    <button class="btn btn-ghost nav-item" data-view="search">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M10.533 1.27893C5.35215 1.27893 1.12598 5.41887 1.12598 10.5579C1.12598 15.697 5.35215 19.8369 10.533 19.8369C12.767 19.8369 14.8235 19.0671 16.4402 17.7794L20.7929 22.132C21.1834 22.5226 21.8166 22.5226 22.2071 22.132C22.5976 21.7415 22.5976 21.1083 22.2071 20.7178L17.8543 16.3649C19.1421 14.7482 19.9119 12.6917 19.9119 10.4577C19.9119 5.31863 15.6857 1.17869 10.5047 1.17869L10.533 1.27893ZM3.12598 10.5579C3.12598 6.55226 6.42768 3.27893 10.533 3.27893C14.6383 3.27893 17.9119 6.55226 17.9119 10.5579C17.9119 14.5636 14.6383 17.8369 10.533 17.8369C6.42768 17.8369 3.12598 14.5636 3.12598 10.5579Z"/>
                        </svg>
                        <span class="text-sm font-medium">Search</span>
                    </button>
                </div>
            </div>

            <!-- Your Library Section -->
            <div class="library-section">
                <div class="library-header">
                    <button class="library-toggle">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3 22a1 1 0 0 1-1-1V3a1 1 0 0 1 2 0v18a1 1 0 0 1-1 1zM15.5 2.134A1 1 0 0 0 14 3v18a1 1 0 0 0 1.5.866l8-9a1 1 0 0 0 0-1.732l-8-9zM16 5.723L21.394 12 16 18.277V5.723z"/>
                        </svg>
                        <span>Your Library</span>
                    </button>
                    <div class="library-controls">
                        <button class="library-btn" title="Create playlist or folder">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M15.25 8a.75.75 0 0 1-.75.75H8.75v5.75a.75.75 0 0 1-1.5 0V8.75H1.5a.75.75 0 0 1 0-1.5h5.75V1.5a.75.75 0 0 1 1.5 0v5.75h5.75a.75.75 0 0 1 .75.75z"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Library Filter Pills -->
                <div class="library-filters">
                    <button class="filter-pill active" data-filter="all">All</button>
                    <button class="filter-pill" data-filter="playlists">Playlists</button>
                    <button class="filter-pill" data-filter="artists">Artists</button>
                    <button class="filter-pill" data-filter="albums">Albums</button>
                </div>

                <!-- Library Content -->
                <div class="library-content">
                    <div class="library-list" id="library-list">
                        <!-- Library items will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Top Navigation Bar -->
            <div class="top-bar">
                <div class="nav-buttons">
                    <button class="nav-arrow" id="back-btn" disabled>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M11.03.47a.75.75 0 0 1 0 1.06L4.56 8l6.47 6.47a.75.75 0 1 1-1.06 1.06L2.44 8 9.97.47a.75.75 0 0 1 1.06 0z"/>
                        </svg>
                    </button>
                    <button class="nav-arrow" id="forward-btn" disabled>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M4.97.47a.75.75 0 0 0 0 1.06L11.44 8l-6.47 6.47a.75.75 0 1 0 1.06 1.06L13.56 8 6.03.47a.75.75 0 0 0-1.06 0z"/>
                        </svg>
                    </button>
                </div>

                <div class="user-controls">
                    <button class="user-btn" id="profile-btn">
                        <div class="user-avatar">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M14 6l-6 6-6-6z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Content Views -->
            <div class="content-view">
                <!-- Home View -->
                <div class="view-content active" id="home-view">
                    <div class="page-header">
                        <h1>Good evening</h1>
                    </div>

                    <!-- Recently Played Grid -->
                    <div class="quick-access-grid">
                        <div class="quick-access-item">
                            <img src="https://via.placeholder.com/60x60/4a9eff/ffffff?text=★" alt="Stellar Collection" class="quick-access-image">
                            <span class="quick-access-title">Stellar Collection</span>
                        </div>
                    </div>

                    <!-- Content Sections -->
                    <div class="content-section">
                        <div class="section-header">
                            <h2>Recently played</h2>
                            <button class="show-all-btn">Show all</button>
                        </div>
                        <div class="content-grid" id="recently-played">
                            <!-- Recent tracks will be populated here -->
                        </div>
                    </div>

                    <div class="content-section">
                        <div class="section-header">
                            <h2>Made for you</h2>
                            <button class="show-all-btn">Show all</button>
                        </div>
                        <div class="content-grid" id="made-for-you">
                            <!-- Personalized content will be populated here -->
                        </div>
                    </div>

                    <div class="content-section">
                        <div class="section-header">
                            <h2>Popular playlists</h2>
                            <button class="show-all-btn">Show all</button>
                        </div>
                        <div class="content-grid" id="popular-playlists">
                            <!-- Popular playlists will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Search View -->
                <div class="view-content" id="search-view">
                    <div class="search-page">
                        <div class="search-header">
                            <div class="search-container">
                                <div class="search-input-wrapper">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" class="search-icon">
                                        <path d="M10.533 1.27893C5.35215 1.27893 1.12598 5.41887 1.12598 10.5579C1.12598 15.697 5.35215 19.8369 10.533 19.8369C12.767 19.8369 14.8235 19.0671 16.4402 17.7794L20.7929 22.132C21.1834 22.5226 21.8166 22.5226 22.2071 22.132C22.5976 21.7415 22.5976 21.1083 22.2071 20.7178L17.8543 16.3649C19.1421 14.7482 19.9119 12.6917 19.9119 10.4577C19.9119 5.31863 15.6857 1.17869 10.5047 1.17869L10.533 1.27893ZM3.12598 10.5579C3.12598 6.55226 6.42768 3.27893 10.533 3.27893C14.6383 3.27893 17.9119 6.55226 17.9119 10.5579C17.9119 14.5636 14.6383 17.8369 10.533 17.8369C6.42768 17.8369 3.12598 14.5636 3.12598 10.5579Z"/>
                                    </svg>
                                    <input type="text" id="search-input" placeholder="What do you want to listen to?" class="input text-sm" autocomplete="off">
                                    <button class="search-clear" id="search-clear" style="display: none;">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                            <path d="M2.344 2.343a.5.5 0 0 1 .707 0L8 7.293l4.95-4.95a.5.5 0 1 1 .707.707L8.707 8l4.95 4.95a.5.5 0 0 1-.707.707L8 8.707l-4.95 4.95a.5.5 0 0 1-.707-.707L7.293 8 2.343 2.657a.5.5 0 0 1 0-.707z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Search Results -->
                        <div class="search-results" id="search-results" style="display: none;">
                            <div class="search-top-result">
                                <h3>Top result</h3>
                                <div class="top-result-card" id="top-result">
                                    <!-- Top result will be populated here -->
                                </div>
                            </div>

                            <div class="search-songs">
                                <h3>Songs</h3>
                                <div class="song-list" id="search-song-list">
                                    <!-- Search results will be populated here -->
                                </div>
                            </div>
                        </div>

                        <!-- Browse Categories (when no search) -->
                        <div class="browse-categories" id="browse-categories">
                            <h2>Explore the cosmos</h2>
                            <div class="categories-grid">
                                <div class="card card-hover category-card" style="background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary) / 0.8) 100%);">
                                    <div class="card-content">
                                        <span class="text-lg font-semibold text-white">Stellar Pop</span>
                                    </div>
                                </div>
                                <div class="card card-hover category-card" style="background: linear-gradient(135deg, hsl(var(--secondary)) 0%, hsl(var(--accent)) 100%);">
                                    <div class="card-content">
                                        <span class="text-lg font-semibold">Cosmic Beats</span>
                                    </div>
                                </div>
                                <div class="card card-hover category-card" style="background: linear-gradient(135deg, hsl(217 32% 20%) 0%, hsl(217 32% 15%) 100%);">
                                    <div class="card-content">
                                        <span class="text-lg font-semibold">Midnight Rock</span>
                                    </div>
                                </div>
                                <div class="card card-hover category-card" style="background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary) / 0.7) 100%);">
                                    <div class="card-content">
                                        <span class="text-lg font-semibold text-white">Aurora Electronic</span>
                                    </div>
                                </div>
                                <div class="card card-hover category-card" style="background: linear-gradient(135deg, hsl(var(--muted)) 0%, hsl(var(--background)) 100%);">
                                    <div class="card-content">
                                        <span class="text-lg font-semibold">Nebula Jazz</span>
                                    </div>
                                </div>
                                <div class="card card-hover category-card" style="background: linear-gradient(135deg, hsl(215 20.2% 55.1%) 0%, hsl(215 20.2% 45.1%) 100%);">
                                    <div class="card-content">
                                        <span class="text-lg font-semibold">Constellation Classical</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Library View -->
                <div class="view-content" id="library-view">
                    <div class="library-page">
                        <div class="page-header">
                            <h1>Your Library</h1>
                        </div>
                        <div class="library-content-main" id="library-content-main">
                            <!-- Library content will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Spotify-style Bottom Player Bar -->
    <div class="player-bar">
        <!-- Now Playing Info -->
        <div class="now-playing">
            <div class="track-info">
                <div class="track-image">
                    <img id="current-track-image" src="https://via.placeholder.com/56x56/333/fff?text=♫" alt="Current track">
                </div>
                <div class="track-details">
                    <div class="track-name" id="current-track-name">Silence among the stars</div>
                    <div class="track-artist" id="current-track-artist">Choose your celestial journey</div>
                </div>
            </div>
            <div class="track-actions">
                <button class="like-btn" id="like-track-btn" title="Add to Stellar Collection">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Player Controls -->
        <div class="player-controls">
            <div class="control-buttons">
                <button class="control-btn" id="shuffle-btn" title="Enable shuffle">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M13.151.922a.75.75 0 1 0-1.06 1.06L13.109 3H11.16a3.75 3.75 0 0 0-2.873 1.34l-6.173 7.356A2.25 2.25 0 0 1 .39 12.5H0V14h.391a3.75 3.75 0 0 0 2.873-1.34l6.173-7.356a2.25 2.25 0 0 1 1.724-.804h1.947l-1.017 1.018a.75.75 0 0 0 1.06 1.06L15.98 3.75 13.151.922zM.391 3.5H0V2h.391c1.109 0 2.16.49 2.873 1.34L4.89 5.277l-.979 1.167-1.796-2.14A2.25 2.25 0 0 0 .391 3.5z"/>
                        <path d="m7.5 10.723.98-1.167.957 1.14a2.25 2.25 0 0 0 1.724.804h1.947l-1.017-1.018a.75.75 0 1 1 1.06-1.06l2.829 2.828-2.829 2.828a.75.75 0 1 1-1.06-1.06L13.109 13H11.16a3.75 3.75 0 0 1-2.873-1.34l-.787-.938z"/>
                    </svg>
                </button>
                
                <button class="control-btn" id="previous-btn" title="Previous">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M3.3 1a.7.7 0 0 1 .7.7v5.15l9.95-5.744a.7.7 0 0 1 1.05.606v12.588a.7.7 0 0 1-1.05.606L4 8.149V13.3a.7.7 0 0 1-1.4 0V1.7a.7.7 0 0 1 .7-.7z"/>
                    </svg>
                </button>
                
                <button class="control-btn play-btn" id="play-pause-btn" title="Play">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" class="play-icon">
                        <path d="m2.7 1.39 12.413 6.61a.5.5 0 0 1 0 .894L2.7 14.61A.5.5 0 0 1 2 14.16V1.84A.5.5 0 0 1 2.7 1.39z"/>
                    </svg>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" class="pause-icon" style="display: none;">
                        <path d="M2.7 1a.7.7 0 0 0-.7.7v12.6a.7.7 0 0 0 .7.7h2.6a.7.7 0 0 0 .7-.7V1.7a.7.7 0 0 0-.7-.7H2.7zm8 0a.7.7 0 0 0-.7.7v12.6a.7.7 0 0 0 .7.7h2.6a.7.7 0 0 0 .7-.7V1.7a.7.7 0 0 0-.7-.7h-2.6z"/>
                    </svg>
                </button>
                
                <button class="control-btn" id="next-btn" title="Next">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M12.7 1a.7.7 0 0 0-.7.7v5.15L2.05 1.107A.7.7 0 0 0 1 1.712v12.588a.7.7 0 0 0 1.05.606L12 8.149V13.3a.7.7 0 0 0 1.4 0V1.7a.7.7 0 0 0-.7-.7z"/>
                    </svg>
                </button>
                
                <button class="control-btn" id="repeat-btn" title="Enable repeat">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M0 4.75A3.75 3.75 0 0 1 3.75 1h8.5A3.75 3.75 0 0 1 16 4.75v5a3.75 3.75 0 0 1-3.75 3.75H9.81l1.018 1.018a.75.75 0 1 1-1.06 1.06L6.939 12.75l2.829-2.828a.75.75 0 1 1 1.06 1.06L9.811 12h2.439a2.25 2.25 0 0 0 2.25-2.25v-5a2.25 2.25 0 0 0-2.25-2.25h-8.5A2.25 2.25 0 0 0 1.5 4.75v5A2.25 2.25 0 0 0 3.75 12H5v1.5H3.75A3.75 3.75 0 0 1 0 9.75v-5z"/>
                    </svg>
                </button>
            </div>

            <!-- Progress Bar -->
            <div class="progress-section">
                <span class="time-elapsed" id="time-elapsed">0:00</span>
                <div class="progress-bar-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                        <div class="progress-handle" id="progress-handle"></div>
                    </div>
                </div>
                <span class="time-total" id="time-total">0:00</span>
            </div>
        </div>

        <!-- Volume and Additional Controls -->
        <div class="additional-controls">
            <button class="control-btn" id="queue-btn" title="Queue">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M15 15H1v-1.5h14V15zm0-4.5H1V9h14v1.5zm-14-7A2.5 2.5 0 0 1 3.5 1h9a2.5 2.5 0 0 1 0 5h-9A2.5 2.5 0 0 1 1 3.5zm2.5-1a1 1 0 0 0 0 2h9a1 1 0 1 0 0-2h-9z"/>
                </svg>
            </button>
            
            <button class="control-btn" id="devices-btn" title="Connect to a device">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M6 2.75C6 1.784 6.784 1 7.75 1h6.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15h-6.5A1.75 1.75 0 0 1 6 13.25V2.75zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h6.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25h-6.5zm-6 7.5A1.75 1.75 0 0 1 3.5 8H5V6.5H3.5A3.25 3.25 0 0 0 .25 9.75V12.5A1.75 1.75 0 0 0 2 14.25h2V12.75H2a.25.25 0 0 1-.25-.25V9.75a.25.25 0 0 1 .25-.25h.5V8H2c-.138 0-.25.112-.25.25v3a.25.25 0 0 0 .25.25h2v1.5H2A1.75 1.75 0 0 1 .25 11.25V9.75A1.75 1.75 0 0 1 2 8h.5v1.5z"/>
                </svg>
            </button>

            <div class="volume-controls">
                <button class="control-btn" id="volume-btn" title="Mute">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" class="volume-high">
                        <path d="M9.741.85a.8.8 0 0 1 .375.65v13a.8.8 0 0 1-1.125.73L6.354 14.1H3.5A1.5 1.5 0 0 1 2 12.6V3.4A1.5 1.5 0 0 1 3.5 1.9h2.854l2.637-1.13a.8.8 0 0 1 .75.08zm-1.125 1.6L6.354 3.7H3.5a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2.854l2.262.85V2.45zm4.266-.9a.75.75 0 1 0-.732 1.312 6.27 6.27 0 0 1 0 11.476.75.75 0 1 0 .732 1.312 7.77 7.77 0 0 0 0-14.1zm-2.67 2.6a.75.75 0 1 0-.732 1.312 3.27 3.27 0 0 1 0 6.15.75.75 0 1 0 .732 1.312 4.77 4.77 0 0 0 0-8.774z"/>
                    </svg>
                </button>
                <div class="volume-bar-container">
                    <div class="volume-bar">
                        <div class="volume-fill" id="volume-fill"></div>
                        <div class="volume-handle" id="volume-handle"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden audio element -->
    <audio id="audio-player" preload="metadata"></audio>

    <!-- Modal for creating playlists -->
    <div id="playlist-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create playlist</h3>
                <button class="modal-close" id="close-playlist-modal">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M2.344 2.343a.5.5 0 0 1 .707 0L8 7.293l4.95-4.95a.5.5 0 1 1 .707.707L8.707 8l4.95 4.95a.5.5 0 0 1-.707.707L8 8.707l-4.95 4.95a.5.5 0 0 1-.707-.707L7.293 8 2.343 2.657a.5.5 0 0 1 0-.707z"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="text" id="playlist-name-input" placeholder="My Playlist #1" class="form-input">
                </div>
            </div>
            <div class="modal-actions">
                <button id="cancel-playlist-btn" class="btn btn-secondary">Cancel</button>
                <button id="create-playlist-btn" class="btn btn-primary">Create</button>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="context-menu" class="context-menu">
        <div class="context-menu-item" id="context-play">
            <span>Play</span>
        </div>
        <div class="context-menu-item" id="context-add-to-queue">
            <span>Add to queue</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" id="context-add-to-playlist">
            <span>Add to playlist</span>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M4.97.47a.75.75 0 0 0 0 1.06L11.44 8l-6.47 6.47a.75.75 0 1 0 1.06 1.06L13.56 8 6.03.47a.75.75 0 0 0-1.06 0z"/>
            </svg>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" id="context-save-to-library">
            <span>Add to Stellar Collection</span>
        </div>
    </div>

    <!-- Notification container -->
    <div id="notification-container" class="notification-container"></div>

    <!-- Utility scripts -->
    <script src="../src/renderer/utils/formatters.js"></script>
    
    <!-- Service scripts -->
    <script src="../src/renderer/services/NotificationService.js"></script>
    <script src="../src/renderer/services/ProgressService.js"></script>
    
    <!-- Component scripts -->
    <script src="../src/renderer/components/TitleBarManager.js"></script>
    <script src="../src/renderer/components/SongRenderer.js"></script>
    <script src="../src/renderer/components/PlaylistManager.js"></script>
    <script src="../src/renderer/components/FolderManager.js"></script>
    <script src="../src/renderer/components/DragDropHandler.js"></script>
    <script src="../src/renderer/components/SettingsManager.js"></script>
    <script src="../src/renderer/components/UpdateManager.js"></script>
    <script src="../src/renderer/components/EqualizerManager.js"></script>
    <script src="../src/renderer/components/AudioPlayer.js"></script>
    <script src="../src/renderer/components/StreamingManager.js"></script>
    
    <!-- Main scripts -->
    <script src="../src/renderer/CelesPlayer.js"></script>
    <script src="../src/renderer/MusicPlayer.js"></script>
    
    <!-- Initialize app -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize local icons
            window.localIcons.createIcons();
            
            // Initialize title bar
            window.titleBarManager = new TitleBarManager();
            
            // Initialize Celes player (new Spotify-like interface)
            window.celesPlayer = new CelesPlayer();
            
            // Initialize original music player (for backward compatibility)
            window.musicPlayer = new MusicPlayer();
        });
    </script>
</body>
</html>